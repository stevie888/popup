/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/rentals/route";
exports.ids = ["app/api/rentals/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!****************************************************!*\
  !*** ./node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \****************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frentals%2Froute&page=%2Fapi%2Frentals%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frentals%2Froute.ts&appDir=C%3A%5CUsers%5CSteven%20gerrard%5COneDrive%5CDesktop%5CUmbrella-project%5Cpopup-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSteven%20gerrard%5COneDrive%5CDesktop%5CUmbrella-project%5Cpopup-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frentals%2Froute&page=%2Fapi%2Frentals%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frentals%2Froute.ts&appDir=C%3A%5CUsers%5CSteven%20gerrard%5COneDrive%5CDesktop%5CUmbrella-project%5Cpopup-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSteven%20gerrard%5COneDrive%5CDesktop%5CUmbrella-project%5Cpopup-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var C_Users_Steven_gerrard_OneDrive_Desktop_Umbrella_project_popup_backend_app_api_rentals_route_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/api/rentals/route.ts */ \"(rsc)/./app/api/rentals/route.ts\");\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/rentals/route\",\n        pathname: \"/api/rentals\",\n        filename: \"route\",\n        bundlePath: \"app/api/rentals/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Steven gerrard\\\\OneDrive\\\\Desktop\\\\Umbrella-project\\\\popup-backend\\\\app\\\\api\\\\rentals\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Steven_gerrard_OneDrive_Desktop_Umbrella_project_popup_backend_app_api_rentals_route_ts__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/rentals/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZW50YWxzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZyZW50YWxzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcmVudGFscyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNTdGV2ZW4lMjBnZXJyYXJkJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDVW1icmVsbGEtcHJvamVjdCU1Q3BvcHVwLWJhY2tlbmQlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q1N0ZXZlbiUyMGdlcnJhcmQlNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNVbWJyZWxsYS1wcm9qZWN0JTVDcG9wdXAtYmFja2VuZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDd0U7QUFDdkk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDaUo7O0FBRWpKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW1icmVsbGEtYmFja2VuZC8/OTUyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxTdGV2ZW4gZ2VycmFyZFxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXFVtYnJlbGxhLXByb2plY3RcXFxccG9wdXAtYmFja2VuZFxcXFxhcHBcXFxcYXBpXFxcXHJlbnRhbHNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3JlbnRhbHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9yZW50YWxzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9yZW50YWxzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcU3RldmVuIGdlcnJhcmRcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxVbWJyZWxsYS1wcm9qZWN0XFxcXHBvcHVwLWJhY2tlbmRcXFxcYXBwXFxcXGFwaVxcXFxyZW50YWxzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3JlbnRhbHMvcm91dGVcIjtcbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frentals%2Froute&page=%2Fapi%2Frentals%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frentals%2Froute.ts&appDir=C%3A%5CUsers%5CSteven%20gerrard%5COneDrive%5CDesktop%5CUmbrella-project%5Cpopup-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSteven%20gerrard%5COneDrive%5CDesktop%5CUmbrella-project%5Cpopup-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/rentals/route.ts":
/*!**********************************!*\
  !*** ./app/api/rentals/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./lib/database.ts\");\n\n\n// GET - Get rentals for a user\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const userId = searchParams.get(\"userId\");\n        const status = searchParams.get(\"status\");\n        if (!userId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"User ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        let query = `\n      SELECT \n        rh.id,\n        rh.user_id,\n        rh.umbrella_id,\n        rh.station_id,\n        rh.rented_at,\n        rh.returned_at,\n        rh.status,\n        rh.credits_used,\n        u.name as user_name,\n        s.name as station_name\n      FROM rental_history rh\n      LEFT JOIN users u ON rh.user_id = u.id\n      LEFT JOIN stations s ON rh.station_id = s.id\n      WHERE rh.user_id = ?\n    `;\n        const params = [\n            userId\n        ];\n        if (status) {\n            query += \" AND rh.status = ?\";\n            params.push(status);\n        }\n        query += \" ORDER BY rh.rented_at DESC\";\n        const rentals = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(query, params);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            rentals: rentals.map((rental)=>({\n                    id: rental.id,\n                    userId: rental.user_id,\n                    umbrellaId: rental.umbrella_id,\n                    stationId: rental.station_id,\n                    stationName: rental.station_name,\n                    startTime: rental.rented_at,\n                    endTime: rental.returned_at,\n                    status: rental.status,\n                    creditsUsed: rental.credits_used,\n                    userName: rental.user_name\n                }))\n        });\n    } catch (error) {\n        console.error(\"Error fetching rentals:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to fetch rentals\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST - Create new rental\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { userId, umbrellaId, stationId, startTime, creditsUsed } = body;\n        if (!userId || !umbrellaId || !stationId || !startTime) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"All fields are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Check if user has enough credits\n        const users = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(\"SELECT credits FROM users WHERE id = ?\", [\n            userId\n        ]);\n        if (users.length === 0) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"User not found\"\n            }, {\n                status: 404\n            });\n        }\n        const userCredits = users[0].credits || 0;\n        const requiredCredits = creditsUsed || 50;\n        if (userCredits < requiredCredits) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: `Insufficient credits. You have ${userCredits} credits, but need ${requiredCredits} credits.`\n            }, {\n                status: 400\n            });\n        }\n        // Check if umbrella is available\n        const umbrellas = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(\"SELECT status FROM umbrellas WHERE id = ?\", [\n            umbrellaId\n        ]);\n        if (umbrellas.length === 0) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Umbrella not found\"\n            }, {\n                status: 404\n            });\n        }\n        if (umbrellas[0].status !== \"available\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Umbrella is not available\"\n            }, {\n                status: 400\n            });\n        }\n        // Start transaction\n        await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(\"START TRANSACTION\");\n        try {\n            // Create rental record\n            const rentalResult = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(`\n        INSERT INTO rental_history (user_id, umbrella_id, station_id, rented_at, status, credits_used)\n        VALUES (?, ?, ?, ?, 'active', ?)\n      `, [\n                userId,\n                umbrellaId,\n                stationId,\n                startTime,\n                requiredCredits\n            ]);\n            // Update umbrella status\n            await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(\"UPDATE umbrellas SET status = ? WHERE id = ?\", [\n                \"rented\",\n                umbrellaId\n            ]);\n            // Deduct credits from user\n            await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(\"UPDATE users SET credits = credits - ?, total_rentals = total_rentals + 1 WHERE id = ?\", [\n                requiredCredits,\n                userId\n            ]);\n            // Update station available umbrellas\n            await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(\"UPDATE stations SET available_umbrellas = available_umbrellas - 1 WHERE id = ?\", [\n                stationId\n            ]);\n            await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(\"COMMIT\");\n            // Get the created rental\n            const newRentals = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(\"SELECT * FROM rental_history WHERE id = ?\", [\n                rentalResult.insertId\n            ]);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                rental: {\n                    id: newRentals[0].id,\n                    userId: newRentals[0].user_id,\n                    umbrellaId: newRentals[0].umbrella_id,\n                    stationId: newRentals[0].station_id,\n                    startTime: newRentals[0].rented_at,\n                    status: newRentals[0].status,\n                    creditsUsed: newRentals[0].credits_used\n                },\n                message: \"Umbrella rented successfully\"\n            }, {\n                status: 201\n            });\n        } catch (error) {\n            await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(\"ROLLBACK\");\n            throw error;\n        }\n    } catch (error) {\n        console.error(\"Error creating rental:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to create rental\"\n        }, {\n            status: 500\n        });\n    }\n}\n// OPTIONS - Handle CORS preflight\nasync function OPTIONS() {\n    return new Response(null, {\n        status: 204,\n        headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"GET, POST, PUT, DELETE, OPTIONS\",\n            \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNwQlosUUFBUXNDLFVBQVUsQ0FBQyxFQUFFLENBQUN6QixPQUFPO29CQUM3QkMsWUFBWXdCLFVBQVUsQ0FBQyxFQUFFLENBQUN2QixXQUFXO29CQUNyQ0MsV0FBV3NCLFVBQVUsQ0FBQyxFQUFFLENBQUNyQixVQUFVO29CQUNuQ0csV0FBV2tCLFVBQVUsQ0FBQyxFQUFFLENBQUNqQixTQUFTO29CQUNsQ25CLFFBQVFvQyxVQUFVLENBQUMsRUFBRSxDQUFDcEMsTUFBTTtvQkFDNUJzQixhQUFhYyxVQUFVLENBQUMsRUFBRSxDQUFDYixZQUFZO2dCQUN6QztnQkFDQWUsU0FBUztZQUNYLEdBQUc7Z0JBQUV0QyxRQUFRO1lBQUk7UUFFbkIsRUFBRSxPQUFPRyxPQUFPO1lBQ2QsTUFBTVgsMkRBQVlBLENBQUM7WUFDbkIsTUFBTVc7UUFDUjtJQUVGLEVBQUUsT0FBT0EsT0FBTztRQUNkdUIsUUFBUXZCLEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU9aLGtGQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVEMsT0FBTztRQUNULEdBQUc7WUFBRUgsUUFBUTtRQUFJO0lBQ25CO0FBQ0Y7QUFFQSxrQ0FBa0M7QUFDM0IsZUFBZXVDO0lBQ3BCLE9BQU8sSUFBSUMsU0FBUyxNQUFNO1FBQ3hCeEMsUUFBUTtRQUNSeUMsU0FBUztZQUNQLCtCQUErQjtZQUMvQixnQ0FBZ0M7WUFDaEMsZ0NBQWdDO1FBQ2xDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3VtYnJlbGxhLWJhY2tlbmQvLi9hcHAvYXBpL3JlbnRhbHMvcm91dGUudHM/YjFiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZXhlY3V0ZVF1ZXJ5IH0gZnJvbSAnQC9saWIvZGF0YWJhc2UnO1xuXG4vLyBHRVQgLSBHZXQgcmVudGFscyBmb3IgYSB1c2VyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IHVzZXJJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3VzZXJJZCcpO1xuICAgIGNvbnN0IHN0YXR1cyA9IHNlYXJjaFBhcmFtcy5nZXQoJ3N0YXR1cycpO1xuXG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIGxldCBxdWVyeSA9IGBcbiAgICAgIFNFTEVDVCBcbiAgICAgICAgcmguaWQsXG4gICAgICAgIHJoLnVzZXJfaWQsXG4gICAgICAgIHJoLnVtYnJlbGxhX2lkLFxuICAgICAgICByaC5zdGF0aW9uX2lkLFxuICAgICAgICByaC5yZW50ZWRfYXQsXG4gICAgICAgIHJoLnJldHVybmVkX2F0LFxuICAgICAgICByaC5zdGF0dXMsXG4gICAgICAgIHJoLmNyZWRpdHNfdXNlZCxcbiAgICAgICAgdS5uYW1lIGFzIHVzZXJfbmFtZSxcbiAgICAgICAgcy5uYW1lIGFzIHN0YXRpb25fbmFtZVxuICAgICAgRlJPTSByZW50YWxfaGlzdG9yeSByaFxuICAgICAgTEVGVCBKT0lOIHVzZXJzIHUgT04gcmgudXNlcl9pZCA9IHUuaWRcbiAgICAgIExFRlQgSk9JTiBzdGF0aW9ucyBzIE9OIHJoLnN0YXRpb25faWQgPSBzLmlkXG4gICAgICBXSEVSRSByaC51c2VyX2lkID0gP1xuICAgIGA7XG4gICAgY29uc3QgcGFyYW1zID0gW3VzZXJJZF07XG5cbiAgICBpZiAoc3RhdHVzKSB7XG4gICAgICBxdWVyeSArPSAnIEFORCByaC5zdGF0dXMgPSA/JztcbiAgICAgIHBhcmFtcy5wdXNoKHN0YXR1cyk7XG4gICAgfVxuXG4gICAgcXVlcnkgKz0gJyBPUkRFUiBCWSByaC5yZW50ZWRfYXQgREVTQyc7XG5cbiAgICBjb25zdCByZW50YWxzID0gYXdhaXQgZXhlY3V0ZVF1ZXJ5KHF1ZXJ5LCBwYXJhbXMpIGFzIGFueVtdO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICByZW50YWxzOiByZW50YWxzLm1hcChyZW50YWwgPT4gKHtcbiAgICAgICAgaWQ6IHJlbnRhbC5pZCxcbiAgICAgICAgdXNlcklkOiByZW50YWwudXNlcl9pZCxcbiAgICAgICAgdW1icmVsbGFJZDogcmVudGFsLnVtYnJlbGxhX2lkLFxuICAgICAgICBzdGF0aW9uSWQ6IHJlbnRhbC5zdGF0aW9uX2lkLFxuICAgICAgICBzdGF0aW9uTmFtZTogcmVudGFsLnN0YXRpb25fbmFtZSxcbiAgICAgICAgc3RhcnRUaW1lOiByZW50YWwucmVudGVkX2F0LFxuICAgICAgICBlbmRUaW1lOiByZW50YWwucmV0dXJuZWRfYXQsXG4gICAgICAgIHN0YXR1czogcmVudGFsLnN0YXR1cyxcbiAgICAgICAgY3JlZGl0c1VzZWQ6IHJlbnRhbC5jcmVkaXRzX3VzZWQsXG4gICAgICAgIHVzZXJOYW1lOiByZW50YWwudXNlcl9uYW1lXG4gICAgICB9KSlcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyByZW50YWxzOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCByZW50YWxzJ1xuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuLy8gUE9TVCAtIENyZWF0ZSBuZXcgcmVudGFsXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB7IHVzZXJJZCwgdW1icmVsbGFJZCwgc3RhdGlvbklkLCBzdGFydFRpbWUsIGNyZWRpdHNVc2VkIH0gPSBib2R5O1xuXG4gICAgaWYgKCF1c2VySWQgfHwgIXVtYnJlbGxhSWQgfHwgIXN0YXRpb25JZCB8fCAhc3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdBbGwgZmllbGRzIGFyZSByZXF1aXJlZCdcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBoYXMgZW5vdWdoIGNyZWRpdHNcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IGV4ZWN1dGVRdWVyeShcbiAgICAgICdTRUxFQ1QgY3JlZGl0cyBGUk9NIHVzZXJzIFdIRVJFIGlkID0gPycsXG4gICAgICBbdXNlcklkXVxuICAgICkgYXMgYW55W107XG5cbiAgICBpZiAodXNlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCdcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXNlckNyZWRpdHMgPSB1c2Vyc1swXS5jcmVkaXRzIHx8IDA7XG4gICAgY29uc3QgcmVxdWlyZWRDcmVkaXRzID0gY3JlZGl0c1VzZWQgfHwgNTA7XG5cbiAgICBpZiAodXNlckNyZWRpdHMgPCByZXF1aXJlZENyZWRpdHMpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogYEluc3VmZmljaWVudCBjcmVkaXRzLiBZb3UgaGF2ZSAke3VzZXJDcmVkaXRzfSBjcmVkaXRzLCBidXQgbmVlZCAke3JlcXVpcmVkQ3JlZGl0c30gY3JlZGl0cy5gXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHVtYnJlbGxhIGlzIGF2YWlsYWJsZVxuICAgIGNvbnN0IHVtYnJlbGxhcyA9IGF3YWl0IGV4ZWN1dGVRdWVyeShcbiAgICAgICdTRUxFQ1Qgc3RhdHVzIEZST00gdW1icmVsbGFzIFdIRVJFIGlkID0gPycsXG4gICAgICBbdW1icmVsbGFJZF1cbiAgICApIGFzIGFueVtdO1xuXG4gICAgaWYgKHVtYnJlbGxhcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ1VtYnJlbGxhIG5vdCBmb3VuZCdcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgfVxuXG4gICAgaWYgKHVtYnJlbGxhc1swXS5zdGF0dXMgIT09ICdhdmFpbGFibGUnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdVbWJyZWxsYSBpcyBub3QgYXZhaWxhYmxlJ1xuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICAvLyBTdGFydCB0cmFuc2FjdGlvblxuICAgIGF3YWl0IGV4ZWN1dGVRdWVyeSgnU1RBUlQgVFJBTlNBQ1RJT04nKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBDcmVhdGUgcmVudGFsIHJlY29yZFxuICAgICAgY29uc3QgcmVudGFsUmVzdWx0ID0gYXdhaXQgZXhlY3V0ZVF1ZXJ5KGBcbiAgICAgICAgSU5TRVJUIElOVE8gcmVudGFsX2hpc3RvcnkgKHVzZXJfaWQsIHVtYnJlbGxhX2lkLCBzdGF0aW9uX2lkLCByZW50ZWRfYXQsIHN0YXR1cywgY3JlZGl0c191c2VkKVxuICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sICdhY3RpdmUnLCA/KVxuICAgICAgYCwgW3VzZXJJZCwgdW1icmVsbGFJZCwgc3RhdGlvbklkLCBzdGFydFRpbWUsIHJlcXVpcmVkQ3JlZGl0c10pIGFzIGFueTtcblxuICAgICAgLy8gVXBkYXRlIHVtYnJlbGxhIHN0YXR1c1xuICAgICAgYXdhaXQgZXhlY3V0ZVF1ZXJ5KFxuICAgICAgICAnVVBEQVRFIHVtYnJlbGxhcyBTRVQgc3RhdHVzID0gPyBXSEVSRSBpZCA9ID8nLFxuICAgICAgICBbJ3JlbnRlZCcsIHVtYnJlbGxhSWRdXG4gICAgICApO1xuXG4gICAgICAvLyBEZWR1Y3QgY3JlZGl0cyBmcm9tIHVzZXJcbiAgICAgIGF3YWl0IGV4ZWN1dGVRdWVyeShcbiAgICAgICAgJ1VQREFURSB1c2VycyBTRVQgY3JlZGl0cyA9IGNyZWRpdHMgLSA/LCB0b3RhbF9yZW50YWxzID0gdG90YWxfcmVudGFscyArIDEgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgW3JlcXVpcmVkQ3JlZGl0cywgdXNlcklkXVxuICAgICAgKTtcblxuICAgICAgLy8gVXBkYXRlIHN0YXRpb24gYXZhaWxhYmxlIHVtYnJlbGxhc1xuICAgICAgYXdhaXQgZXhlY3V0ZVF1ZXJ5KFxuICAgICAgICAnVVBEQVRFIHN0YXRpb25zIFNFVCBhdmFpbGFibGVfdW1icmVsbGFzID0gYXZhaWxhYmxlX3VtYnJlbGxhcyAtIDEgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgW3N0YXRpb25JZF1cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IGV4ZWN1dGVRdWVyeSgnQ09NTUlUJyk7XG5cbiAgICAgIC8vIEdldCB0aGUgY3JlYXRlZCByZW50YWxcbiAgICAgIGNvbnN0IG5ld1JlbnRhbHMgPSBhd2FpdCBleGVjdXRlUXVlcnkoXG4gICAgICAgICdTRUxFQ1QgKiBGUk9NIHJlbnRhbF9oaXN0b3J5IFdIRVJFIGlkID0gPycsXG4gICAgICAgIFtyZW50YWxSZXN1bHQuaW5zZXJ0SWRdXG4gICAgICApIGFzIGFueVtdO1xuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICByZW50YWw6IHtcbiAgICAgICAgICBpZDogbmV3UmVudGFsc1swXS5pZCxcbiAgICAgICAgICB1c2VySWQ6IG5ld1JlbnRhbHNbMF0udXNlcl9pZCxcbiAgICAgICAgICB1bWJyZWxsYUlkOiBuZXdSZW50YWxzWzBdLnVtYnJlbGxhX2lkLFxuICAgICAgICAgIHN0YXRpb25JZDogbmV3UmVudGFsc1swXS5zdGF0aW9uX2lkLFxuICAgICAgICAgIHN0YXJ0VGltZTogbmV3UmVudGFsc1swXS5yZW50ZWRfYXQsXG4gICAgICAgICAgc3RhdHVzOiBuZXdSZW50YWxzWzBdLnN0YXR1cyxcbiAgICAgICAgICBjcmVkaXRzVXNlZDogbmV3UmVudGFsc1swXS5jcmVkaXRzX3VzZWRcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ1VtYnJlbGxhIHJlbnRlZCBzdWNjZXNzZnVsbHknXG4gICAgICB9LCB7IHN0YXR1czogMjAxIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGF3YWl0IGV4ZWN1dGVRdWVyeSgnUk9MTEJBQ0snKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHJlbnRhbDonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gY3JlYXRlIHJlbnRhbCdcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbi8vIE9QVElPTlMgLSBIYW5kbGUgQ09SUyBwcmVmbGlnaHRcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBPUFRJT05TKCkge1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICBzdGF0dXM6IDIwNCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLFxuICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnOiAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycsXG4gICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyc6ICdDb250ZW50LVR5cGUsIEF1dGhvcml6YXRpb24nLFxuICAgIH0sXG4gIH0pO1xufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZXhlY3V0ZVF1ZXJ5IiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInVzZXJJZCIsImdldCIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJxdWVyeSIsInBhcmFtcyIsInB1c2giLCJyZW50YWxzIiwibWFwIiwicmVudGFsIiwiaWQiLCJ1c2VyX2lkIiwidW1icmVsbGFJZCIsInVtYnJlbGxhX2lkIiwic3RhdGlvbklkIiwic3RhdGlvbl9pZCIsInN0YXRpb25OYW1lIiwic3RhdGlvbl9uYW1lIiwic3RhcnRUaW1lIiwicmVudGVkX2F0IiwiZW5kVGltZSIsInJldHVybmVkX2F0IiwiY3JlZGl0c1VzZWQiLCJjcmVkaXRzX3VzZWQiLCJ1c2VyTmFtZSIsInVzZXJfbmFtZSIsImNvbnNvbGUiLCJQT1NUIiwiYm9keSIsInVzZXJzIiwibGVuZ3RoIiwidXNlckNyZWRpdHMiLCJjcmVkaXRzIiwicmVxdWlyZWRDcmVkaXRzIiwidW1icmVsbGFzIiwicmVudGFsUmVzdWx0IiwibmV3UmVudGFscyIsImluc2VydElkIiwibWVzc2FnZSIsIk9QVElPTlMiLCJSZXNwb25zZSIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/rentals/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   executeQuery: () => (/* binding */ executeQuery),\n/* harmony export */   executeTransaction: () => (/* binding */ executeTransaction),\n/* harmony export */   initializeDatabase: () => (/* binding */ initializeDatabase),\n/* harmony export */   testConnection: () => (/* binding */ testConnection)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/mysql2/promise.js\");\n\nconsole.log(\"DB_HOST:\", process.env.DB_HOST);\nconsole.log(\"DB_USER:\", process.env.DB_USER);\nconsole.log(\"DB_PASSWORD:\", process.env.DB_PASSWORD);\nconsole.log(\"DB_NAME:\", process.env.DB_NAME);\nconsole.log(\"DB_PORT:\", process.env.DB_PORT);\n// Database configuration\nconst dbConfig = {\n    host: process.env.DB_HOST || \"localhost\",\n    user: process.env.DB_USER || \"root\",\n    password: process.env.DB_PASSWORD || \"\",\n    database: process.env.DB_NAME || \"popup\",\n    port: parseInt(process.env.DB_PORT || \"3306\"),\n    waitForConnections: true,\n    connectionLimit: 10,\n    queueLimit: 0\n};\n// Create connection pool\nconst pool = mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createPool(dbConfig);\n// Test database connection\nasync function testConnection() {\n    try {\n        const connection = await pool.getConnection();\n        console.log(\"✅ Database connected successfully!\");\n        connection.release();\n        return true;\n    } catch (error) {\n        console.error(\"❌ Database connection failed:\", error);\n        return false;\n    }\n}\n// Initialize database tables\nasync function initializeDatabase() {\n    try {\n        const connection = await pool.getConnection();\n        // Create users table\n        await connection.execute(`\n      CREATE TABLE IF NOT EXISTS users (\n        id VARCHAR(255) PRIMARY KEY,\n        username VARCHAR(255) UNIQUE NOT NULL,\n        email VARCHAR(255) UNIQUE NOT NULL,\n        password VARCHAR(255) NOT NULL,\n        name VARCHAR(255) NOT NULL,\n        mobile VARCHAR(255) NOT NULL,\n        profileImage TEXT,\n        role ENUM('user', 'admin') DEFAULT 'user',\n        credits INT DEFAULT 200, -- 4 rentals at 50 credits each\n        total_rentals INT DEFAULT 0,\n        createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n        // Create umbrellas table\n        await connection.execute(`\n      CREATE TABLE IF NOT EXISTS umbrellas (\n        id VARCHAR(255) PRIMARY KEY,\n        description TEXT,\n        location VARCHAR(255) NOT NULL,\n        status ENUM('available', 'rented', 'out_of_stock') DEFAULT 'available',\n        inventory INT DEFAULT 1,\n        createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n        // Create rental_history table\n        await connection.execute(`\n      CREATE TABLE IF NOT EXISTS rental_history (\n        id INT AUTO_INCREMENT PRIMARY KEY,\n        user_id VARCHAR(255) NOT NULL,\n        user_name VARCHAR(255) NOT NULL,\n        umbrella_id VARCHAR(255) NOT NULL,\n        rented_at TIMESTAMP NOT NULL,\n        returned_at TIMESTAMP NULL,\n        status ENUM('active', 'completed', 'cancelled') DEFAULT 'active',\n        credits_used INT DEFAULT 50,\n        createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,\n        FOREIGN KEY (umbrella_id) REFERENCES umbrellas(id) ON DELETE CASCADE\n      )\n    `);\n        console.log(\"✅ Database tables created successfully!\");\n        connection.release();\n    } catch (error) {\n        console.error(\"❌ Database initialization failed:\", error);\n        throw error;\n    }\n}\n// Helper function to execute queries\nasync function executeQuery(query, params = []) {\n    try {\n        const [rows] = await pool.execute(query, params);\n        return rows;\n    } catch (error) {\n        console.error(\"Database query error:\", error);\n        throw error;\n    }\n}\n// Helper function to execute transactions\nasync function executeTransaction(queries) {\n    const connection = await pool.getConnection();\n    try {\n        await connection.beginTransaction();\n        for (const { query, params } of queries){\n            await connection.execute(query, params);\n        }\n        await connection.commit();\n        connection.release();\n    } catch (error) {\n        await connection.rollback();\n        connection.release();\n        throw error;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pool);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cyI6WyJ3ZWJwYWNrOi8vdW1icmVsbGEtYmFja2VuZC8uL2xpYi9kYXRhYmFzZS50cz80ZDQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBteXNxbCBmcm9tICdteXNxbDIvcHJvbWlzZSc7XG5cbmNvbnNvbGUubG9nKCdEQl9IT1NUOicsIHByb2Nlc3MuZW52LkRCX0hPU1QpO1xuY29uc29sZS5sb2coJ0RCX1VTRVI6JywgcHJvY2Vzcy5lbnYuREJfVVNFUik7XG5jb25zb2xlLmxvZygnREJfUEFTU1dPUkQ6JywgcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQpO1xuY29uc29sZS5sb2coJ0RCX05BTUU6JywgcHJvY2Vzcy5lbnYuREJfTkFNRSk7XG5jb25zb2xlLmxvZygnREJfUE9SVDonLCBwcm9jZXNzLmVudi5EQl9QT1JUKTtcblxuLy8gRGF0YWJhc2UgY29uZmlndXJhdGlvblxuY29uc3QgZGJDb25maWcgPSB7XG4gIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QgfHwgJ2xvY2FsaG9zdCcsXG4gIHVzZXI6IHByb2Nlc3MuZW52LkRCX1VTRVIgfHwgJ3Jvb3QnLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQgfHwgJycsXG4gIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FIHx8ICdwb3B1cCcsXG4gIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkRCX1BPUlQgfHwgJzMzMDYnKSxcbiAgd2FpdEZvckNvbm5lY3Rpb25zOiB0cnVlLFxuICBjb25uZWN0aW9uTGltaXQ6IDEwLFxuICBxdWV1ZUxpbWl0OiAwLFxufTtcblxuLy8gQ3JlYXRlIGNvbm5lY3Rpb24gcG9vbFxuY29uc3QgcG9vbCA9IG15c3FsLmNyZWF0ZVBvb2woZGJDb25maWcpO1xuXG4vLyBUZXN0IGRhdGFiYXNlIGNvbm5lY3Rpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0ZXN0Q29ubmVjdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgY29uc29sZS5sb2coJ+KchSBEYXRhYmFzZSBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIEluaXRpYWxpemUgZGF0YWJhc2UgdGFibGVzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZURhdGFiYXNlKCkge1xuICB0cnkge1xuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgdXNlcnMgdGFibGVcbiAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNlcnMgKFxuICAgICAgICBpZCBWQVJDSEFSKDI1NSkgUFJJTUFSWSBLRVksXG4gICAgICAgIHVzZXJuYW1lIFZBUkNIQVIoMjU1KSBVTklRVUUgTk9UIE5VTEwsXG4gICAgICAgIGVtYWlsIFZBUkNIQVIoMjU1KSBVTklRVUUgTk9UIE5VTEwsXG4gICAgICAgIHBhc3N3b3JkIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgbmFtZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgIG1vYmlsZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgIHByb2ZpbGVJbWFnZSBURVhULFxuICAgICAgICByb2xlIEVOVU0oJ3VzZXInLCAnYWRtaW4nKSBERUZBVUxUICd1c2VyJyxcbiAgICAgICAgY3JlZGl0cyBJTlQgREVGQVVMVCAyMDAsIC0tIDQgcmVudGFscyBhdCA1MCBjcmVkaXRzIGVhY2hcbiAgICAgICAgdG90YWxfcmVudGFscyBJTlQgREVGQVVMVCAwLFxuICAgICAgICBjcmVhdGVkQXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICAgIClcbiAgICBgKTtcblxuICAgIC8vIENyZWF0ZSB1bWJyZWxsYXMgdGFibGVcbiAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdW1icmVsbGFzIChcbiAgICAgICAgaWQgVkFSQ0hBUigyNTUpIFBSSU1BUlkgS0VZLFxuICAgICAgICBkZXNjcmlwdGlvbiBURVhULFxuICAgICAgICBsb2NhdGlvbiBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgIHN0YXR1cyBFTlVNKCdhdmFpbGFibGUnLCAncmVudGVkJywgJ291dF9vZl9zdG9jaycpIERFRkFVTFQgJ2F2YWlsYWJsZScsXG4gICAgICAgIGludmVudG9yeSBJTlQgREVGQVVMVCAxLFxuICAgICAgICBjcmVhdGVkQXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICAgIClcbiAgICBgKTtcblxuICAgIC8vIENyZWF0ZSByZW50YWxfaGlzdG9yeSB0YWJsZVxuICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyByZW50YWxfaGlzdG9yeSAoXG4gICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgdXNlcl9pZCBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgIHVzZXJfbmFtZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgIHVtYnJlbGxhX2lkIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgcmVudGVkX2F0IFRJTUVTVEFNUCBOT1QgTlVMTCxcbiAgICAgICAgcmV0dXJuZWRfYXQgVElNRVNUQU1QIE5VTEwsXG4gICAgICAgIHN0YXR1cyBFTlVNKCdhY3RpdmUnLCAnY29tcGxldGVkJywgJ2NhbmNlbGxlZCcpIERFRkFVTFQgJ2FjdGl2ZScsXG4gICAgICAgIGNyZWRpdHNfdXNlZCBJTlQgREVGQVVMVCA1MCxcbiAgICAgICAgY3JlYXRlZEF0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICBGT1JFSUdOIEtFWSAodXNlcl9pZCkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgICAgIEZPUkVJR04gS0VZICh1bWJyZWxsYV9pZCkgUkVGRVJFTkNFUyB1bWJyZWxsYXMoaWQpIE9OIERFTEVURSBDQVNDQURFXG4gICAgICApXG4gICAgYCk7XG5cbiAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIHRhYmxlcyBjcmVhdGVkIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRGF0YWJhc2UgaW5pdGlhbGl6YXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZXhlY3V0ZSBxdWVyaWVzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVF1ZXJ5KHF1ZXJ5OiBzdHJpbmcsIHBhcmFtczogYW55W10gPSBbXSkge1xuICB0cnkge1xuICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IHBvb2wuZXhlY3V0ZShxdWVyeSwgcGFyYW1zKTtcbiAgICByZXR1cm4gcm93cztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBxdWVyeSBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgdHJhbnNhY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVRyYW5zYWN0aW9uKHF1ZXJpZXM6IHsgcXVlcnk6IHN0cmluZzsgcGFyYW1zOiBhbnlbXSB9W10pIHtcbiAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICB0cnkge1xuICAgIGF3YWl0IGNvbm5lY3Rpb24uYmVnaW5UcmFuc2FjdGlvbigpO1xuICAgIFxuICAgIGZvciAoY29uc3QgeyBxdWVyeSwgcGFyYW1zIH0gb2YgcXVlcmllcykge1xuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHF1ZXJ5LCBwYXJhbXMpO1xuICAgIH1cbiAgICBcbiAgICBhd2FpdCBjb25uZWN0aW9uLmNvbW1pdCgpO1xuICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGF3YWl0IGNvbm5lY3Rpb24ucm9sbGJhY2soKTtcbiAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBwb29sOyAiXSwibmFtZXMiOlsibXlzcWwiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsImVudiIsIkRCX0hPU1QiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJEQl9OQU1FIiwiREJfUE9SVCIsImRiQ29uZmlnIiwiaG9zdCIsInVzZXIiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwicG9ydCIsInBhcnNlSW50Iiwid2FpdEZvckNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbkxpbWl0IiwicXVldWVMaW1pdCIsInBvb2wiLCJjcmVhdGVQb29sIiwidGVzdENvbm5lY3Rpb24iLCJjb25uZWN0aW9uIiwiZ2V0Q29ubmVjdGlvbiIsInJlbGVhc2UiLCJlcnJvciIsImluaXRpYWxpemVEYXRhYmFzZSIsImV4ZWN1dGUiLCJleGVjdXRlUXVlcnkiLCJxdWVyeSIsInBhcmFtcyIsInJvd3MiLCJleGVjdXRlVHJhbnNhY3Rpb24iLCJxdWVyaWVzIiwiYmVnaW5UcmFuc2FjdGlvbiIsImNvbW1pdCIsInJvbGxiYWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mysql2","vendor-chunks/iconv-lite","vendor-chunks/aws-ssl-profiles","vendor-chunks/long","vendor-chunks/lru-cache","vendor-chunks/denque","vendor-chunks/is-property","vendor-chunks/lru.min","vendor-chunks/sqlstring","vendor-chunks/named-placeholders","vendor-chunks/seq-queue","vendor-chunks/generate-function","vendor-chunks/safer-buffer"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frentals%2Froute&page=%2Fapi%2Frentals%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frentals%2Froute.ts&appDir=C%3A%5CUsers%5CSteven%20gerrard%5COneDrive%5CDesktop%5CUmbrella-project%5Cpopup-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSteven%20gerrard%5COneDrive%5CDesktop%5CUmbrella-project%5Cpopup-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();