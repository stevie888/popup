{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Steven%20gerrard/OneDrive/Desktop/Umbrella-project/popup-frontend/components/ui/input.tsx"],"sourcesContent":["import { Input as HeroInput, InputProps } from \"@heroui/input\";\r\nimport React from \"react\";\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ type, variant = \"bordered\", ...props }, ref) => {\r\n    return <HeroInput variant={variant} type={type} ref={ref} {...props} />;\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n\r\nexport { Input };\r\n"],"names":[],"mappings":";;;;AACA;AADA;;;;AAEA,MAAM,sBAAQ,6JAAA,CAAA,UAAK,CAAC,UAAU,MAC5B,CAAC,EAAE,IAAI,EAAE,UAAU,UAAU,EAAE,GAAG,OAAO,EAAE;IACzC,qBAAO,6LAAC,4MAAA,CAAA,QAAS;QAAC,SAAS;QAAS,MAAM;QAAM,KAAK;QAAM,GAAG,KAAK;;;;;;AACrE;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Steven%20gerrard/OneDrive/Desktop/Umbrella-project/popup-frontend/components/ui/modal.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport {\r\n  Modal as HeroModal,\r\n  ModalContent,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  ModalProps,\r\n} from \"@heroui/modal\";\r\n\r\ntype Props = {\r\n  title?: string;\r\n  isOpen: boolean;\r\n  footerRender?: React.ReactNode;\r\n  children: React.ReactNode;\r\n};\r\nconst Modal = React.forwardRef<HTMLDivElement, Props & ModalProps>(\r\n  ({ title, size, footerRender, children, isOpen, onClose, ...props }, ref) => {\r\n    return (\r\n      <>\r\n        <HeroModal\r\n          ref={ref}\r\n          isOpen={isOpen}\r\n          size={size}\r\n          onClose={onClose}\r\n          {...props}\r\n        >\r\n          <ModalContent>\r\n            {(onClose) => (\r\n              <>\r\n                {title ? (\r\n                  <ModalHeader className=\"flex flex-col gap-1\">\r\n                    {title}\r\n                  </ModalHeader>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n                <ModalBody>{children}</ModalBody>\r\n                {footerRender ? (\r\n                  <ModalFooter>{footerRender}</ModalFooter>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n              </>\r\n            )}\r\n          </ModalContent>\r\n        </HeroModal>\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nModal.displayName = \"Modal\";\r\nexport default Modal;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;;;;AAeA,MAAM,sBAAQ,6JAAA,CAAA,UAAK,CAAC,UAAU,MAC5B,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnE,qBACE;kBACE,cAAA,6LAAC,4MAAA,CAAA,QAAS;YACR,KAAK;YACL,QAAQ;YACR,MAAM;YACN,SAAS;YACR,GAAG,KAAK;sBAET,cAAA,6LAAC,2NAAA,CAAA,eAAY;0BACV,CAAC,wBACA;;4BACG,sBACC,6LAAC,yNAAA,CAAA,cAAW;gCAAC,WAAU;0CACpB;;;;;qDAGH;0CAEF,6LAAC,qNAAA,CAAA,YAAS;0CAAE;;;;;;4BACX,6BACC,6LAAC,yNAAA,CAAA,cAAW;0CAAE;;;;;qDAEd;;;;;;;;;;;;;;AAQhB;;AAGF,MAAM,WAAW,GAAG;uCACL"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Steven%20gerrard/OneDrive/Desktop/Umbrella-project/popup-frontend/app/umbrellas/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { api } from \"@/lib/api\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport Modal from \"@/components/ui/modal\";\r\nimport { useAuth } from \"@/components/AuthContext\";\r\n\r\ninterface Umbrella {\r\n  id: string;\r\n  description: string;\r\n  location: string;\r\n  status: 'available' | 'rented' | 'out_of_stock';\r\n}\r\n\r\ninterface UserRental {\r\n  id: string;\r\n  umbrella_id: string;\r\n  rented_at: string;\r\n  returned_at: string | null;\r\n  status: string;\r\n}\r\n\r\nexport default function UmbrellasPage() {\r\n  const [umbrellas, setUmbrellas] = useState<Umbrella[]>([]);\r\n  const [userRentals, setUserRentals] = useState<UserRental[]>([]);\r\n  const [userCredits, setUserCredits] = useState<number>(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [filters, setFilters] = useState({\r\n    status: \"\",\r\n    location: \"\"\r\n  });\r\n  const [viewUmbrella, setViewUmbrella] = useState<Umbrella | null>(null);\r\n  const [viewRental, setViewRental] = useState<UserRental | null>(null);\r\n  const [rentingId, setRentingId] = useState<string | null>(null);\r\n  const [rentError, setRentError] = useState(\"\");\r\n  const [rentSuccess, setRentSuccess] = useState<{ station?: string, startTime?: string, endTime?: string, remainingCredits?: number } | null>(null);\r\n  const [rentModal, setRentModal] = useState<{ umbrella: Umbrella | null, start: string, end: string, error: string } | null>(null);\r\n  const { user } = useAuth(); // Get current user\r\n\r\n  useEffect(() => {\r\n    loadUmbrellas();\r\n    if (user) {\r\n      loadUserRentals();\r\n      loadUserCredits();\r\n      // Check and update expired rentals\r\n      checkAndUpdateExpiredRentals();\r\n    }\r\n  }, [filters, user]);\r\n\r\n  const loadUmbrellas = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.umbrella.getAll({\r\n        status: filters.status || undefined,\r\n        location: filters.location || undefined\r\n      });\r\n      setUmbrellas(response.umbrellas || []);\r\n    } catch (error) {\r\n      console.error('Error loading umbrellas:', error);\r\n      setError(\"Failed to load umbrellas\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadUserRentals = async () => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      const response = await api.rental.getAll({ userId: user.id, status: 'active' });\r\n      setUserRentals(response.rentals || []);\r\n    } catch (error) {\r\n      console.error('Error loading user rentals:', error);\r\n    }\r\n  };\r\n\r\n  const getUserRentalForUmbrella = (umbrellaId: string): UserRental | null => {\r\n    return userRentals.find(rental => rental.umbrella_id === umbrellaId) || null;\r\n  };\r\n\r\n  const loadUserCredits = async () => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      const response = await api.credits.getBalance(user.id);\r\n      setUserCredits(response.credits || 0);\r\n    } catch (error) {\r\n      console.error('Error loading user credits:', error);\r\n    }\r\n  };\r\n\r\n  const markAsReturned = async (rentalId: string) => {\r\n    try {\r\n      const response = await fetch(`/api/rentals/${rentalId}/return`, {\r\n        method: 'PATCH',\r\n      });\r\n      \r\n      if (response.ok) {\r\n        // Refresh data\r\n        await loadUserRentals();\r\n        await loadUmbrellas();\r\n        setViewRental(null);\r\n        alert('Umbrella returned successfully!');\r\n      } else {\r\n        const data = await response.json();\r\n        alert(data.error || 'Failed to return umbrella');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error returning umbrella:', error);\r\n      alert('Failed to return umbrella');\r\n    }\r\n  };\r\n\r\n  const checkAndUpdateExpiredRentals = async () => {\r\n    try {\r\n      const response = await fetch('/api/rentals/auto-update', {\r\n        method: 'POST',\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.updatedCount > 0) {\r\n          // Refresh data if any rentals were updated\r\n          await loadUserRentals();\r\n          await loadUmbrellas();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating expired rentals:', error);\r\n    }\r\n  };\r\n\r\n  const handleRent = async (umbrella: Umbrella, startTime?: string, endTime?: string) => {\r\n    if (!user) {\r\n      setRentError(\"You must be logged in to rent an umbrella.\");\r\n      return;\r\n    }\r\n    setRentingId(umbrella.id);\r\n    setRentError(\"\");\r\n    try {\r\n      const now = new Date();\r\n      const start = startTime ? new Date(startTime) : now;\r\n      const end = endTime ? new Date(endTime) : new Date(start.getTime() + 24 * 60 * 60 * 1000);\r\n      await api.rental.create({ userId: user.id, umbrellaId: umbrella.id, startTime: start.toISOString(), endTime: end.toISOString() });\r\n      setUmbrellas((prev) => prev.map(u => u.id === umbrella.id ? { ...u, status: 'rented' } : u));\r\n      // Refresh user rentals and credits after successful rental\r\n      await loadUserRentals();\r\n      await loadUserCredits();\r\n      setRentSuccess({ \r\n        station: umbrella.location, \r\n        startTime: start.toLocaleString('en-US', { \r\n          year: 'numeric', \r\n          month: '2-digit', \r\n          day: '2-digit', \r\n          hour: '2-digit', \r\n          minute: '2-digit',\r\n          hour12: true \r\n        }), \r\n        endTime: end.toLocaleString('en-US', { \r\n          year: 'numeric', \r\n          month: '2-digit', \r\n          day: '2-digit', \r\n          hour: '2-digit', \r\n          minute: '2-digit',\r\n          hour12: true \r\n        }),\r\n        remainingCredits: userCredits - 50 // 50 credits per rental\r\n      });\r\n      setRentModal(null);\r\n    } catch (err: any) {\r\n      setRentError(err?.message || \"Failed to rent umbrella\");\r\n    } finally {\r\n      setRentingId(null);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"max-w-4xl mx-auto mt-10 p-6\">\r\n        <div className=\"text-center\">Loading umbrellas...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto mt-10 p-6\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-3xl font-bold\">Umbrellas</h1>\r\n        {user && (\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"flex items-center gap-2 bg-yellow-100 px-4 py-2 rounded-lg\">\r\n              <span className=\"text-yellow-800 font-semibold\">Credits:</span>\r\n              <span className=\"text-yellow-900 font-bold text-lg\">{userCredits}</span>\r\n              <span className=\"text-yellow-600 text-sm\">(50 per rental)</span>\r\n            </div>\r\n            <Button \r\n              variant=\"ghost\" \r\n              onClick={() => window.open('/manage-rentals.html', '_blank')}\r\n              className=\"text-sm text-blue-600 hover:text-blue-800\"\r\n            >\r\n              üîç Check Expired Rentals\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {error && (\r\n        <div className=\"mb-4 p-3 rounded bg-red-100 text-red-800 border border-red-300\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      {/* Filters */}\r\n      <div className=\"mb-6 flex gap-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-1\">Status</label>\r\n          <select\r\n            value={filters.status}\r\n            onChange={(e) => setFilters({ ...filters, status: e.target.value })}\r\n            className=\"border px-3 py-2 rounded-md\"\r\n          >\r\n            <option value=\"\">All</option>\r\n            <option value=\"available\">Available</option>\r\n            <option value=\"rented\">Rented</option>\r\n            <option value=\"out_of_stock\">Out of Stock</option>\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-1\">Location</label>\r\n          <Input\r\n            placeholder=\"Filter by location\"\r\n            value={filters.location}\r\n            onChange={(e) => setFilters({ ...filters, location: e.target.value })}\r\n          />\r\n        </div>\r\n      </div>\r\n      {/* Umbrellas List */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {umbrellas.length === 0 ? (\r\n          <div className=\"col-span-full text-center py-8 text-gray-500\">\r\n            No umbrellas found.\r\n          </div>\r\n        ) : (\r\n          umbrellas.map((umbrella) => (\r\n            <div key={umbrella.id} className=\"bg-white rounded-xl shadow-md p-4 flex flex-col items-center hover:shadow-lg transition\">\r\n              <div className=\"text-gray-700 font-bold mb-1\">{umbrella.location}</div>\r\n              <span className={`px-2 py-1 rounded text-xs font-semibold mb-2 ${\r\n                getUserRentalForUmbrella(umbrella.id) ? 'bg-orange-100 text-orange-700' :\r\n                umbrella.status === 'available' ? 'bg-green-100 text-green-700' :\r\n                umbrella.status === 'out_of_stock' ? 'bg-red-100 text-red-700' :\r\n                'bg-orange-100 text-orange-700'\r\n              }`}>\r\n                {getUserRentalForUmbrella(umbrella.id) ? 'Rented' :\r\n                 umbrella.status === 'out_of_stock' ? 'Out of Stock' : \r\n                 umbrella.status.charAt(0).toUpperCase() + umbrella.status.slice(1)}\r\n              </span>\r\n              <div className=\"text-sm text-gray-600 mb-2\">{umbrella.description}</div>\r\n              <div className=\"flex gap-2 mt-2\">\r\n                <Button className=\"bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600\" onClick={() => setViewUmbrella(umbrella)}>View</Button>\r\n                {umbrella.status === 'available' && !getUserRentalForUmbrella(umbrella.id) && userCredits >= 50 && (\r\n                  <Button\r\n                    className={`px-4 py-1 rounded ${\r\n                      userCredits >= 50 \r\n                        ? 'bg-green-500 text-white hover:bg-green-600' \r\n                        : 'bg-gray-400 text-gray-600 cursor-not-allowed'\r\n                    }`}\r\n                    onClick={() => {\r\n                      if (userCredits < 50) {\r\n                        setRentError(\"Insufficient credits. You need 50 credits to rent an umbrella.\");\r\n                        return;\r\n                      }\r\n                      const now = new Date();\r\n                      const defaultEnd = new Date(now.getTime() + 24 * 60 * 60 * 1000);\r\n                      setRentModal({\r\n                        umbrella,\r\n                        start: now.toISOString().slice(0, 16),\r\n                        end: defaultEnd.toISOString().slice(0, 16),\r\n                        error: \"\"\r\n                      });\r\n                    }}\r\n                    disabled={rentingId === umbrella.id || userCredits < 50}\r\n                  >\r\n                    {userCredits >= 50 ? 'Rent Now' : 'Insufficient Credits'}\r\n                  </Button>\r\n                )}\r\n                {getUserRentalForUmbrella(umbrella.id) && (\r\n                  <Button\r\n                    className=\"bg-orange-500 text-white px-4 py-1 rounded hover:bg-orange-600\"\r\n                    onClick={() => setViewRental(getUserRentalForUmbrella(umbrella.id))}\r\n                  >\r\n                    View Rental\r\n                  </Button>\r\n                )}\r\n              </div>\r\n              {rentError && rentingId === umbrella.id && (\r\n                <div className=\"text-xs text-red-500 mt-1\">{rentError}</div>\r\n              )}\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n      {/* View Modal */}\r\n      {viewUmbrella && (\r\n        <Modal isOpen={!!viewUmbrella} onClose={() => setViewUmbrella(null)}>\r\n          <div className=\"p-6 max-w-md mx-auto\">\r\n            <h2 className=\"text-2xl font-bold mb-2\">Umbrella Details</h2>\r\n            <div className=\"mb-2\"><strong>Location:</strong> {viewUmbrella.location}</div>\r\n            <div className=\"mb-2\"><strong>Description:</strong> {viewUmbrella.description}</div>\r\n            <div className=\"mb-2\"><strong>Status:</strong> {getUserRentalForUmbrella(viewUmbrella.id) ? 'Rented' : viewUmbrella.status}</div>\r\n            <Button className=\"mt-4\" onClick={() => setViewUmbrella(null)}>Close</Button>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n      {/* Rental View Modal */}\r\n      {viewRental && (\r\n        <Modal isOpen={!!viewRental} onClose={() => setViewRental(null)}>\r\n          <div className=\"p-6 max-w-md mx-auto\">\r\n            <h2 className=\"text-2xl font-bold mb-2\">Your Rental Details</h2>\r\n            <div className=\"mb-2\">\r\n              <strong>Rental ID:</strong> {viewRental.id}\r\n            </div>\r\n            <div className=\"mb-2\">\r\n              <strong>Rented At:</strong> {new Date(viewRental.rented_at).toLocaleString()}\r\n            </div>\r\n            <div className=\"mb-2\">\r\n              <strong>Return Deadline:</strong> {viewRental.returned_at ? new Date(viewRental.returned_at).toLocaleString() : 'Not specified'}\r\n            </div>\r\n            <div className=\"mb-2\">\r\n              <strong>Status:</strong> \r\n              <span className={`ml-2 px-2 py-1 text-xs rounded ${\r\n                viewRental.status === 'active' ? 'bg-green-100 text-green-700' :\r\n                viewRental.status === 'completed' ? 'bg-blue-100 text-blue-700' :\r\n                'bg-gray-100 text-gray-700'\r\n              }`}>\r\n                {viewRental.status.charAt(0).toUpperCase() + viewRental.status.slice(1)}\r\n              </span>\r\n            </div>\r\n            \r\n            {/* Check if rental is expired */}\r\n            {viewRental.returned_at && new Date(viewRental.returned_at) < new Date() && viewRental.status === 'active' && (\r\n              <div className=\"mt-4 p-3 bg-red-100 border border-red-300 rounded\">\r\n                <strong>‚ö†Ô∏è Overdue:</strong> This rental has passed its return deadline.\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"mt-4 p-3 bg-yellow-100 border border-yellow-300 rounded\">\r\n              <strong>Important:</strong> Please return your umbrella by the deadline to avoid late fees.\r\n            </div>\r\n            \r\n            <div className=\"flex gap-2 mt-4\">\r\n              {viewRental.status === 'active' && (\r\n                <Button \r\n                  className=\"bg-green-500 text-white hover:bg-green-600\"\r\n                  onClick={() => markAsReturned(viewRental.id)}\r\n                >\r\n                  Mark as Returned\r\n                </Button>\r\n              )}\r\n              <Button variant=\"ghost\" onClick={() => setViewRental(null)}>Close</Button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n      {rentSuccess && (\r\n        <Modal isOpen={!!rentSuccess} onClose={() => setRentSuccess(null)} title=\"Rental Successful!\">\r\n          <div className=\"p-4 text-center\">\r\n            <div className=\"text-lg font-semibold mb-2\">Umbrella rented successfully!</div>\r\n            <div className=\"mb-2\">Station: <span className=\"font-bold\">{rentSuccess.station}</span></div>\r\n            <div className=\"mb-2\">\r\n              <div className=\"text-sm text-gray-600 mb-1\">Rental Period:</div>\r\n              <div className=\"font-bold\">\r\n                <div>From: {rentSuccess.startTime}</div>\r\n                <div>To: {rentSuccess.endTime}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"mb-4 p-3 bg-green-50 border border-green-200 rounded\">\r\n              <div className=\"text-green-800 font-semibold\">Credits Updated</div>\r\n              <div className=\"text-green-700\">Remaining Credits: <span className=\"font-bold\">{rentSuccess.remainingCredits}</span></div>\r\n            </div>\r\n            <Button className=\"mt-4\" onClick={() => setRentSuccess(null)}>OK</Button>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n      {/* Rent Modal */}\r\n      {rentModal && rentModal.umbrella && (\r\n        <Modal isOpen={!!rentModal} onClose={() => setRentModal(null)} title=\"Select Rental Time Frame\">\r\n          <div className=\"p-4\">\r\n            <div className=\"mb-2 font-semibold\">Station: {rentModal.umbrella.location}</div>\r\n            <div className=\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-yellow-800 font-semibold\">Credit Cost:</span>\r\n                <span className=\"text-yellow-900 font-bold\">50 credits</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center mt-1\">\r\n                <span className=\"text-yellow-600\">Your Balance:</span>\r\n                <span className=\"text-yellow-700 font-semibold\">{userCredits} credits</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center mt-1\">\r\n                <span className=\"text-yellow-600\">Remaining After Rental:</span>\r\n                <span className=\"text-yellow-700 font-semibold\">{userCredits - 50} credits</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"mb-2\">Select start and end time (max 2 days):</div>\r\n            <div className=\"flex flex-col gap-2 mb-2\">\r\n              <label>\r\n                Start:\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  value={rentModal.start}\r\n                  min={new Date().toISOString().slice(0, 16)}\r\n                  onChange={e => setRentModal(m => m && { ...m, start: e.target.value })}\r\n                  className=\"border rounded px-2 py-1 ml-2\"\r\n                />\r\n              </label>\r\n              <label>\r\n                End:\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  value={rentModal.end}\r\n                  min={rentModal.start}\r\n                  max={(() => {\r\n                    const max = new Date(rentModal.start);\r\n                    max.setDate(max.getDate() + 2);\r\n                    return max.toISOString().slice(0, 16);\r\n                  })()}\r\n                  onChange={e => setRentModal(m => m && { ...m, end: e.target.value })}\r\n                  className=\"border rounded px-2 py-1 ml-2\"\r\n                />\r\n              </label>\r\n            </div>\r\n            {rentModal.error && <div className=\"text-red-500 mb-2\">{rentModal.error}</div>}\r\n            <div className=\"flex gap-2 justify-end\">\r\n              <Button variant=\"ghost\" onClick={() => setRentModal(null)}>Cancel</Button>\r\n              <Button\r\n                className=\"bg-green-500 text-white\"\r\n                onClick={() => {\r\n                  const start = new Date(rentModal.start);\r\n                  const end = new Date(rentModal.end);\r\n                  if (end <= start) {\r\n                    setRentModal(m => m && { ...m, error: \"End time must be after start time.\" });\r\n                    return;\r\n                  }\r\n                  if ((end.getTime() - start.getTime()) > 2 * 24 * 60 * 60 * 1000) {\r\n                    setRentModal(m => m && { ...m, error: \"Cannot rent for more than 2 days.\" });\r\n                    return;\r\n                  }\r\n                  handleRent(rentModal.umbrella!, rentModal.start, rentModal.end);\r\n                }}\r\n              >\r\n                Confirm\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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"}},
    {"offset": {"line": 1241, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}